<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Tweeting on Hajj 1434 - GIS Innovation Center</title>
        <link rel="shortcut icon" href="images/icon.ico">
        <style>


            html, body {
                height: 100%;
                margin: 0px;
                padding: 0px;
                font-family: "Trebuchet MS", "Helvetica", "Arial",  "Verdana", "sans-serif";
	            font-size: 90%;
            }

            #map-canvas{
                position:absolute;
                bottom:80px;
                width:100%;
                top:0px;
                left:0px;    
            }

            .control{
                position:absolute;
                bottom:0px;
                height:80px;
            }

            .left{
                left:0px;
                width:200px;
                padding-left:10px;
            }

            .middle{
                left:200px;
                right:150px;
                width:auto;
                padding-left:30px;
                padding-right:20px;
            }

            .right{    
                right:0px;
                width:150px;    
            }

            .slider{
                height:50px;
                bottom:0px;
                font-size: 62.5%;
                font-family:"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif; 
                padding-left:40px;
            }

            #sliderInfo{
                height:30px;
                bottom:50px;
            }


            .grid li {
                display: block;
                float: left;
                width: 50%;
                
            }
                        
            #logo {
                position: absolute;
                bottom:100px;
                right:20px;
                z-index: 5;
            }

            .tweetHeader {
                margin:1px;
            }

            .tweetText {
                font-family: "Tahoma", "Trebuchet MS", "Helvetica", "Arial",  "Verdana", "sans-serif";
	            font-size: 90%;
                width:200px;
                
            }

            .tweetTime {
                font-family: "Trebuchet MS", "Helvetica", "Arial",  "Verdana", "sans-serif";
                font-size: 85%;
                margin:1px;
            }

        </style>
        
        
        <link rel="stylesheet" href="css/redmond/jquery-ui-1.7.1.custom.css" type="text/css" />
	    <link rel="Stylesheet" href="css/ui.slider.extras.css" type="text/css" />

	    <script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
	    <script type="text/javascript" src="js/jquery-ui-1.7.1.custom.min.js"></script>
	    <script type="text/javascript" src="js/selectToUISlider.jQuery.js"></script>

        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=visualization&key=AIzaSyA6insUmOYIesRcXfVBgtP_qQutwCJiuws"></script>
        
  

        
        
        <script>

            
            
    </script>
    
    <script>
        var pause, isPlaying;
        var map, pointarray
        var heatmap = new google.maps.visualization.HeatmapLayer();
        var tweetPoints = [];
        var selectedTweets = [];
        var markers = [];
        var heatMaps = [];
        var mapMode = "heat";
        var updaterIsBusy = false;

        function Tweet(tweetId, lng, lat, tweetText, screenName, time, timePeriod) {
            this.tweetId = tweetId;
            this.lng = lng;
            this.lat = lat;
            this.tweetText = tweetText;
            this.screenName = screenName;
            this.screenName = screenName;
            this.time = time;
            this.timePeriod = timePeriod;
            this.inMena = lng >= 39.8772 && lng <= 39.91 && lat >= 21.40 && lat <= 21.43;
            this.inMuzdalefa = lng >= 39.9 && lng <= 39.93 && lat >= 21.375 && lat <= 21.4;
            this.inArafat = lng >= 39.95 && lng <= 40 && lat >= 21.33 && lat <= 21.385;
            this.inJamarat = lng >= 39.8664 && lng <= 39.8772 && lat >= 21.4182 && lat <= 21.4236;
            this.inHaram = lng >= 39.8196 && lng <= 39.8304 && lat >= 21.4164 && lat <= 21.4272;
            this.inOther = !(this.inMena || this.inMuzdalefa || this.inArafat || this.inJamarat || this.inHaram);
        }

        var req = new XMLHttpRequest();
        req.open("GET", "tweetSet.txt", true);
        req.onreadystatechange = function loadTweets() {
            if (req.readyState == 4) {
                eval(req.responseText);
                filterChanged();
                loading.style.display = "none";

            }
        }
        req.send(null);

              

        function initialize() {
            var mapOptions = {
                zoom: 13,
                center: new google.maps.LatLng(21.39, 39.925),
                mapTypeId: google.maps.MapTypeId.SATELLITE
            };

            map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
            toggleSlider();


            
        }

        function changeGradient() {
            var gradient = [
              'rgba(0, 255, 255, 0)',
              'rgba(0, 255, 255, 1)',
              'rgba(0, 191, 255, 1)',
              'rgba(0, 127, 255, 1)',
              'rgba(0, 63, 255, 1)',
              'rgba(0, 0, 255, 1)',
              'rgba(0, 0, 223, 1)',
              'rgba(0, 0, 191, 1)',
              'rgba(0, 0, 159, 1)',
              'rgba(0, 0, 127, 1)',
              'rgba(63, 0, 91, 1)',
              'rgba(127, 0, 63, 1)',
              'rgba(191, 0, 31, 1)',
              'rgba(255, 0, 0, 1)'
            ]
            heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
        }

        function changeRadius() {
            heatmap.set('radius', heatmap.get('radius') ? null : 20);
        }

        function changeOpacity() {
            heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
        }

        function setPointSlider(value) {
            pointSliderValue.selectedIndex = value;
            $("#pointSliderValue").trigger("change");
        }

        function toggleHeatMap(){
            if (mapMode == "heat") {
                mapMode = "tweet";
                toggle.value = "Show Heat Map";
            }else{
                mapMode = "heat";
                toggle.value = "Show Tweets";
            }
            filterChanged();
        }

        function getHijeriDate(date) {            
            return (date.getDate() - 5) + '/12/1434';
        }

        function getMiladiDate(date) {
            return date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear();
        }

        function getTimeString(date) {
            var hours = date.getHours();
            var minutes = date.getMinutes();
            var ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            minutes = minutes < 10 ? '0' + minutes : minutes;
            var strTime = hours + ':' + minutes + ' ' + ampm;
            return strTime;
        }

        function clearMarkers() {
            while (markers.length) {
                markers.pop().setMap(null);
            }
        }

        function clearHeatMaps() {
            while (heatMaps.length) {
                heatMaps.pop().setMap(null);
            }
        }

        function updateTweetsLayer() {
            updaterIsBusy = true;
            clearHeatMaps();
            clearMarkers();
            var i=0;
            var infowindow =  new google.maps.InfoWindow({
                content: "",
                maxWidth: 200
            });

            for (i = 0; i < selectedTweets.length; ++i) {
                var tweet = selectedTweets[i];
                var contentString = '<span class="tweetText" ><h3 class="tweetHeader">@' + tweet.screenName + '</h3>'+
                                        '<h5 class="tweetTime" style="color:gray">' + getHijeriDate(tweet.time) + '  -  ' + getMiladiDate(tweet.time) + '<br>' + getTimeString(tweet.time) + ' </h5><hr class="tweetHeader"/>' +
                                    tweet.tweetText + '<hr class="tweetHeader"/><a href="https://twitter.com/' + tweet.screenName + '/status/' + tweet.tweetId + '" ' +
                                    'target="_blank" style="font-size: 10px; text-decoration: none;"><img src="images/Twitter_Logo.gif"/> Show on Twitter</a>' + '</span>';

                
                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng(tweet.lat, tweet.lng),
                    map: map,
                    title: "@" + tweet.screenName,
                    icon: "images/pin_red.png"
                });
                markers.push(marker);
                bindInfoWindow(marker, infowindow, contentString);
            }

            var counter = 0;
            animate = function () {
                counter++;
                if (counter < 16)
                    setTimeout(function () {
                        animate();
                    }, 5);
                else {
                    updaterIsBusy = false;
                }
            }
            animate();
        }


        function bindInfoWindow(marker, infowindow, strDescription) {
            google.maps.event.addListener(marker, 'click', function() {
                infowindow.setContent(strDescription);
                infowindow.open(map, marker);
            });
        }
        function updateHeatLayer() {
            updaterIsBusy = true;
            var oldLayer = heatmap;
            var newLayer = new google.maps.visualization.HeatmapLayer();
            newLayer["stopShowing"] = false;
            heatmap = newLayer;
            heatMaps.push(newLayer);

            clearMarkers();
            tweetPoints = [];
            for (index = 0; index < selectedTweets.length; ++index) {
                var tweet = selectedTweets[index];
                tweetPoints.push(new google.maps.LatLng(tweet.lat, tweet.lng));
            }

            pointArray=[];
            var pointArray = new google.maps.MVCArray(tweetPoints);

            newLayer.data= pointArray;
            
            

            
            newLayer.set('radius',20);
            
            newLayer.setMap(map);
            //oldLayer.set('opacity', 0.8);
            newLayer.set('opacity', 0);

            oldLayer["stopShowing"] = true;

            animate = function () {
                if (newLayer.stopShowing) {
                    oldLayer.setMap(null);
                    delete oldLayer;
                } else {
                    if (oldLayer.get('opacity') > 0.0)
                        oldLayer.set('opacity', oldLayer.get('opacity') - 0.05);

                    if (newLayer.get('opacity') < 0.8)
                        newLayer.set('opacity', newLayer.get('opacity') + 0.05);

                    if (newLayer.get('opacity') < 0.8 || oldLayer.get('opacity') > 0.0)
                        setTimeout(function () {
                            animate();
                        }, 5);
                    else {
                        oldLayer.setMap(null);
                        
                        delete oldLayer;
                        updaterIsBusy = false;
                    }
                }
            }
            animate();
            
            
        }

        

        function filterChanged() {
            
            var minPeriod, maxPeriod
            if (isRangeSlider.checked) {
                minPeriod = sliderStart.selectedIndex + 1;
                maxPeriod = sliderEnd.selectedIndex ;
                if (maxPeriod<minPeriod)maxPeriod=minPeriod;
            } else {
                minPeriod = pointSliderValue.selectedIndex + 1;
                maxPeriod = minPeriod;
            }
            
            var mena, muzdalefa, arafat, jamarat, haram, other;
            mena  = inMena.checked;
            muzdalefa = inMuzdalefa.checked;
            arafat = inArafat.checked;
            jamarat = inJamarat.checked;
            haram = inHaram.checked;
            other= inOther.checked;

            selectedTweets = [];
            var index;
            var period;

            for (period = minPeriod ; period <= maxPeriod; ++period) {
                var fileName = "tweetSet" + period.toString();
                var myTweets = window[fileName];

                if (!(typeof myTweets === 'undefined')) {
                    for (index = 0; index < myTweets.length; ++index) {
                        var myTweet = myTweets[index];

                        if (mena && myTweet.inMena ||
                                muzdalefa && myTweet.inMuzdalefa ||
                                arafat && myTweet.inArafat ||
                                jamarat && myTweet.inJamarat ||
                                haram && myTweet.inHaram ||
                                other && myTweet.inOther)


                            selectedTweets.push(myTweet);
                    }
                }
                    
                
            }
            
           
                if (mapMode == "heat") {
                    updateHeatLayer();
                }
                else
                    updateTweetsLayer();
            
                

            
        }

        function togglePlay() {
            var max = pointSliderValue.options.length - 1;
            var stopPlaying = function () {
                play.value = "Play";
                pause = true;
                isPlaying = false;
                isRangeSlider.disabled = "";
                
            }

            var playFunction = function () {
                if (pointSliderValue.selectedIndex >= max || pause)
                    stopPlaying();
                else {
                    if (!updaterIsBusy) {
                        setPointSlider(pointSliderValue.selectedIndex + 1);
                        setTimeout(function () {
                            playFunction();
                        }, 250);
                    } else {
                        setTimeout(playFunction, 5);
                    }
                    
                }
            }

            

            if (!isPlaying) {
                isPlaying = true;
                pause = false;
                play.value = "Pause";
                isRangeSlider.disabled = "disabled";
                
                clearHeatMaps();
                pause = false;
                var start;
                var myPlay;

                if (isRangeSlider.checked) {
                    start = sliderStart.selectedIndex;
                    if (start >= max)
                        setPointSlider(0);
                    else
                        setPointSlider(start);
                        
                    isRangeSlider.checked="";
                    toggleSlider();
                } else {
                    start = pointSliderValue.selectedIndex;
                    if (start >= max)
                        setPointSlider(0);
                }

                playFunction();
                

            }else{
                stopPlaying();
            }
        }


        function toggleSlider() {
            if (isRangeSlider.checked) {
                pointSlider.style.display = "none";
                rangeSlider.style.display = "block";
            } else {
                pointSlider.style.display = "block";
                rangeSlider.style.display = "none";
            }
            displaySliderValues();
            filterChanged();
        }


        function SliderChanged() {
            displaySliderValues();
            filterChanged();
        }

        function displaySliderValues() {
            
            var minPeriod, maxPeriod, startDay, startHour, startDate, endDay, endHour, endDate
            var result;

            if (isRangeSlider.checked) {
                minPeriod = sliderStart.selectedIndex ;
                maxPeriod = sliderEnd.selectedIndex - 1;
                startDay = Math.floor(minPeriod / 24);
                startHour = minPeriod % 24;
                startDate = new Date(2013,10,13+startDay,startHour,0);

                endDay = Math.floor(maxPeriod / 24);
                endHour = maxPeriod % 24;
                endDate = new Date(2013,10,13+endDay,endHour,59);
            } else {
                minPeriod = pointSliderValue.selectedIndex ;
                startDay = Math.floor(minPeriod / 24);
                startHour = minPeriod % 24;
                startDate = new Date(2013, 10, 13 + startDay, startHour, 0);
                endDay = startDay;
                endHour = startHour;
                var endDate = new Date(2013, 10, 13 + endDay, endHour, 59);

            }
            result = getHijeriDate(startDate) + " " + getTimeString(startDate) + " - " + (startDay == endDay ? "" : getHijeriDate(endDate)) + " " + getTimeString(endDate);
            amount.value = result;
            
        }


        


        google.maps.event.addDomListener(window, 'load', initialize);

    

    </script>
         <script>
             
             $(function () {
                 $('select#pointSliderValue').selectToUISlider({
                     labels: 18

                 }).hide();
                 $('select#sliderStart, select#sliderEnd').selectToUISlider({
                     labels: 18
                 }).hide();

                 //fix color 
                 fixToolTipColor();
             });
             //purely for theme-switching demo... ignore this unless you're using a theme switcher
             //quick function for tooltip color match
             function fixToolTipColor() {
                 //grab the bg color from the tooltip content - set top border of pointer to same
                 $('.ui-tooltip-pointer-down-inner').each(function () {
                     var bWidth = $('.ui-tooltip-pointer-down-inner').css('borderTopWidth');
                     var bColor = $(this).parents('.ui-slider-tooltip').css('backgroundColor')
                     $(this).css('border-top', bWidth + ' solid ' + bColor);
                 });
             }
             
            $(function () {
                $("#logoImage").wrap($('<a>', {
                    href: 'http://www.gistic.org/',
                    target:'_blank'
                }));


            });
            
	</script>

    
  </head>

  <body>
      <div class="control left" id="controls">
          Regions to show:
          <div class="grid">
            <li><input type="checkbox" id="inJamarat" onchange="filterChanged()" /><label for="inJamarat">Jamarat</label></li>
            <li><input type="checkbox" id="inMena" onchange="filterChanged()"  /><label for="inMena">Mena</label></li>
            <li><input type="checkbox" id="inMuzdalefa" onchange="filterChanged()" /><label for="inMuzdalefa">Muzdalefa</label></li>
            <li><input type="checkbox" id="inArafat" onchange="filterChanged()" checked="checked" /><label for="inArafat">Arafat</label></li>
            <li><input type="checkbox" id="inHaram" onchange="filterChanged()" /><label for="inHaram">Haram</label></li>
            <li><input type="checkbox" id="inOther" onchange="filterChanged()" /><label for="inOther">Other</label></li>
          </div>
            
        </div>

      <div id="sliderInfo" class="control middle">
          <div style="position:absolute; left:10px;">
              <input id="isRangeSlider" type="checkbox" onchange="toggleSlider()" checked="checked" /><label for="isRangeSlider">Range of time</label>
          </div>
            
          <div style="position:absolute; left:200px;">
              <label for="amount" >Selected Period:</label>
	        <input type="text" id="amount"  readonly="true" style="border:0; color:#f6931f; background-color:transparent; font-weight:bold; width:300px;"/>
            </div>
          <div style="position:absolute; right:10px; margin-top:2px; width:80px;">
              <input type="button" id="play" value="Play" onclick="togglePlay()" />
          </div>
          
          
            
      </div>
      
      <div id="pointSlider" class="control middle slider"  >
               <select name="pointSliderValue" id="pointSliderValue" onchange="SliderChanged()" >
                  <optgroup label="8/12/1434">
                     <option value="00:00">8/12/1434 12:00 AM</option>
                     <option value="01:00">8/12/1434 01:00 AM</option>
                     <option value="02:00">8/12/1434 02:00 AM</option>
                     <option value="03:00">8/12/1434 03:00 AM</option>
                     <option value="04:00">8/12/1434 04:00 AM</option>
                     <option value="05:00">8/12/1434 05:00 AM</option>
                     <option value="06:00">8/12/1434 06:00 AM</option>
                     <option value="07:00">8/12/1434 07:00 AM</option>
                     <option value="08:00">8/12/1434 08:00 AM</option>
                     <option value="09:00">8/12/1434 09:00 AM</option>
                     <option value="10:00">8/12/1434 10:00 AM</option>
                     <option value="11:00">8/12/1434 11:00 AM</option>
                     <option value="12:00">8/12/1434 12:00 PM</option>
                     <option value="13:00">8/12/1434 01:00 PM</option>
                     <option value="14:00">8/12/1434 02:00 PM</option>
                     <option value="15:00">8/12/1434 03:00 PM</option>
                     <option value="16:00">8/12/1434 04:00 PM</option>
                     <option value="17:00">8/12/1434 05:00 PM</option>
                     <option value="18:00">8/12/1434 06:00 PM</option>
                     <option value="19:00">8/12/1434 07:00 PM</option>
                     <option value="20:00">8/12/1434 08:00 PM</option>
                     <option value="21:00">8/12/1434 09:00 PM</option>
                     <option value="22:00">8/12/1434 10:00 PM</option>
                     <option value="23:00">8/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="9/12/1434">
                     <option value="00:00">9/12/1434 12:00 AM</option>
                     <option value="01:00">9/12/1434 01:00 AM</option>
                     <option value="02:00">9/12/1434 02:00 AM</option>
                     <option value="03:00">9/12/1434 03:00 AM</option>
                     <option value="04:00">9/12/1434 04:00 AM</option>
                     <option value="05:00">9/12/1434 05:00 AM</option>
                     <option value="06:00">9/12/1434 06:00 AM</option>
                     <option value="07:00">9/12/1434 07:00 AM</option>
                     <option value="08:00">9/12/1434 08:00 AM</option>
                     <option value="09:00">9/12/1434 09:00 AM</option>
                     <option value="10:00">9/12/1434 10:00 AM</option>
                     <option value="11:00">9/12/1434 11:00 AM</option>
                     <option value="12:00" selected="selected">9/12/1434 12:00 PM</option>
                     <option value="13:00">9/12/1434 01:00 PM</option>
                     <option value="14:00">9/12/1434 02:00 PM</option>
                     <option value="15:00">9/12/1434 03:00 PM</option>
                     <option value="16:00">9/12/1434 04:00 PM</option>
                     <option value="17:00">9/12/1434 05:00 PM</option>
                     <option value="18:00">9/12/1434 06:00 PM</option>
                     <option value="19:00">9/12/1434 07:00 PM</option>
                     <option value="20:00">9/12/1434 08:00 PM</option>
                     <option value="21:00">9/12/1434 09:00 PM</option>
                     <option value="22:00">9/12/1434 10:00 PM</option>
                     <option value="23:00">9/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="10/12/1434">
                     <option value="00:00">10/12/1434 12:00 AM</option>
                     <option value="01:00">10/12/1434 01:00 AM</option>
                     <option value="02:00">10/12/1434 02:00 AM</option>
                     <option value="03:00">10/12/1434 03:00 AM</option>
                     <option value="04:00">10/12/1434 04:00 AM</option>
                     <option value="05:00">10/12/1434 05:00 AM</option>
                     <option value="06:00">10/12/1434 06:00 AM</option>
                     <option value="07:00">10/12/1434 07:00 AM</option>
                     <option value="08:00">10/12/1434 08:00 AM</option>
                     <option value="09:00">10/12/1434 09:00 AM</option>
                     <option value="10:00">10/12/1434 10:00 AM</option>
                     <option value="11:00">10/12/1434 11:00 AM</option>
                     <option value="12:00">10/12/1434 12:00 PM</option>
                     <option value="13:00">10/12/1434 01:00 PM</option>
                     <option value="14:00">10/12/1434 02:00 PM</option>
                     <option value="15:00">10/12/1434 03:00 PM</option>
                     <option value="16:00">10/12/1434 04:00 PM</option>
                     <option value="17:00">10/12/1434 05:00 PM</option>
                     <option value="18:00">10/12/1434 06:00 PM</option>
                     <option value="19:00">10/12/1434 07:00 PM</option>
                     <option value="20:00">10/12/1434 08:00 PM</option>
                     <option value="21:00">10/12/1434 09:00 PM</option>
                     <option value="22:00">10/12/1434 10:00 PM</option>
                     <option value="23:00">10/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="11/12/1434">
                     <option value="00:00">11/12/1434 12:00 AM</option>
                     <option value="01:00">11/12/1434 01:00 AM</option>
                     <option value="02:00">11/12/1434 02:00 AM</option>
                     <option value="03:00">11/12/1434 03:00 AM</option>
                     <option value="04:00">11/12/1434 04:00 AM</option>
                     <option value="05:00">11/12/1434 05:00 AM</option>
                     <option value="06:00">11/12/1434 06:00 AM</option>
                     <option value="07:00">11/12/1434 07:00 AM</option>
                     <option value="08:00">11/12/1434 08:00 AM</option>
                     <option value="09:00">11/12/1434 09:00 AM</option>
                     <option value="10:00">11/12/1434 10:00 AM</option>
                     <option value="11:00">11/12/1434 11:00 AM</option>
                     <option value="12:00">11/12/1434 12:00 PM</option>
                     <option value="13:00">11/12/1434 01:00 PM</option>
                     <option value="14:00">11/12/1434 02:00 PM</option>
                     <option value="15:00">11/12/1434 03:00 PM</option>
                     <option value="16:00">11/12/1434 04:00 PM</option>
                     <option value="17:00">11/12/1434 05:00 PM</option>
                     <option value="18:00">11/12/1434 06:00 PM</option>
                     <option value="19:00">11/12/1434 07:00 PM</option>
                     <option value="20:00">11/12/1434 08:00 PM</option>
                     <option value="21:00">11/12/1434 09:00 PM</option>
                     <option value="22:00">11/12/1434 10:00 PM</option>
                     <option value="23:00">11/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="12/12/1434">
                     <option value="00:00">12/12/1434 12:00 AM</option>
                     <option value="01:00">12/12/1434 01:00 AM</option>
                     <option value="02:00">12/12/1434 02:00 AM</option>
                     <option value="03:00">12/12/1434 03:00 AM</option>
                     <option value="04:00">12/12/1434 04:00 AM</option>
                     <option value="05:00">12/12/1434 05:00 AM</option>
                     <option value="06:00">12/12/1434 06:00 AM</option>
                     <option value="07:00">12/12/1434 07:00 AM</option>
                     <option value="08:00">12/12/1434 08:00 AM</option>
                     <option value="09:00">12/12/1434 09:00 AM</option>
                     <option value="10:00">12/12/1434 10:00 AM</option>
                     <option value="11:00">12/12/1434 11:00 AM</option>
                     <option value="12:00">12/12/1434 12:00 PM</option>
                     <option value="13:00">12/12/1434 01:00 PM</option>
                     <option value="14:00">12/12/1434 02:00 PM</option>
                     <option value="15:00">12/12/1434 03:00 PM</option>
                     <option value="16:00">12/12/1434 04:00 PM</option>
                     <option value="17:00">12/12/1434 05:00 PM</option>
                     <option value="18:00">12/12/1434 06:00 PM</option>
                     <option value="19:00">12/12/1434 07:00 PM</option>
                     <option value="20:00">12/12/1434 08:00 PM</option>
                     <option value="21:00">12/12/1434 09:00 PM</option>
                     <option value="22:00">12/12/1434 10:00 PM</option>
                     <option value="23:00">12/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="13/12/1434">
                     <option value="00:00">13/12/1434 12:00 AM</option>
                     <option value="01:00">13/12/1434 01:00 AM</option>
                     <option value="02:00">13/12/1434 02:00 AM</option>
                     <option value="03:00">13/12/1434 03:00 AM</option>
                     <option value="04:00">13/12/1434 04:00 AM</option>
                     <option value="05:00">13/12/1434 05:00 AM</option>
                     <option value="06:00">13/12/1434 06:00 AM</option>
                     <option value="07:00">13/12/1434 07:00 AM</option>
                     <option value="08:00">13/12/1434 08:00 AM</option>
                     <option value="09:00">13/12/1434 09:00 AM</option>
                     <option value="10:00">13/12/1434 10:00 AM</option>
                     <option value="11:00">13/12/1434 11:00 AM</option>
                     <option value="12:00">13/12/1434 12:00 PM</option>
                     <option value="13:00">13/12/1434 01:00 PM</option>
                     <option value="14:00">13/12/1434 02:00 PM</option>
                     <option value="15:00">13/12/1434 03:00 PM</option>
                     <option value="16:00">13/12/1434 04:00 PM</option>
                     <option value="17:00">13/12/1434 05:00 PM</option>
                     <option value="18:00">13/12/1434 06:00 PM</option>
                     <option value="19:00">13/12/1434 07:00 PM</option>
                     <option value="20:00">13/12/1434 08:00 PM</option>
                     <option value="21:00">13/12/1434 09:00 PM</option>
                     <option value="22:00">13/12/1434 10:00 PM</option>
                     <option value="23:00">13/12/1434 11:00 PM</option>
                     <option value="00:00">14/12/1434 12:00 AM</option>
                  </optgroup>
               </select>
            </div>
            
      <div id="rangeSlider" class="control middle slider" >
               <select name="sliderStart" id="sliderStart" onchange="SliderChanged()" >
                  <optgroup label="8/12/1434">
                     <option value="00:00">8/12/1434 12:00 AM</option>
                     <option value="01:00">8/12/1434 01:00 AM</option>
                     <option value="02:00">8/12/1434 02:00 AM</option>
                     <option value="03:00">8/12/1434 03:00 AM</option>
                     <option value="04:00">8/12/1434 04:00 AM</option>
                     <option value="05:00">8/12/1434 05:00 AM</option>
                     <option value="06:00">8/12/1434 06:00 AM</option>
                     <option value="07:00">8/12/1434 07:00 AM</option>
                     <option value="08:00">8/12/1434 08:00 AM</option>
                     <option value="09:00">8/12/1434 09:00 AM</option>
                     <option value="10:00">8/12/1434 10:00 AM</option>
                     <option value="11:00">8/12/1434 11:00 AM</option>
                     <option value="12:00">8/12/1434 12:00 PM</option>
                     <option value="13:00">8/12/1434 01:00 PM</option>
                     <option value="14:00">8/12/1434 02:00 PM</option>
                     <option value="15:00">8/12/1434 03:00 PM</option>
                     <option value="16:00">8/12/1434 04:00 PM</option>
                     <option value="17:00">8/12/1434 05:00 PM</option>
                     <option value="18:00">8/12/1434 06:00 PM</option>
                     <option value="19:00">8/12/1434 07:00 PM</option>
                     <option value="20:00">8/12/1434 08:00 PM</option>
                     <option value="21:00">8/12/1434 09:00 PM</option>
                     <option value="22:00">8/12/1434 10:00 PM</option>
                     <option value="23:00">8/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="9/12/1434">
                     <option value="00:00" selected="selected">9/12/1434 12:00 AM</option>
                     <option value="01:00">9/12/1434 01:00 AM</option>
                     <option value="02:00">9/12/1434 02:00 AM</option>
                     <option value="03:00">9/12/1434 03:00 AM</option>
                     <option value="04:00">9/12/1434 04:00 AM</option>
                     <option value="05:00">9/12/1434 05:00 AM</option>
                     <option value="06:00">9/12/1434 06:00 AM</option>
                     <option value="07:00">9/12/1434 07:00 AM</option>
                     <option value="08:00">9/12/1434 08:00 AM</option>
                     <option value="09:00">9/12/1434 09:00 AM</option>
                     <option value="10:00">9/12/1434 10:00 AM</option>
                     <option value="11:00">9/12/1434 11:00 AM</option>
                     <option value="12:00">9/12/1434 12:00 PM</option>
                     <option value="13:00">9/12/1434 01:00 PM</option>
                     <option value="14:00">9/12/1434 02:00 PM</option>
                     <option value="15:00">9/12/1434 03:00 PM</option>
                     <option value="16:00">9/12/1434 04:00 PM</option>
                     <option value="17:00">9/12/1434 05:00 PM</option>
                     <option value="18:00">9/12/1434 06:00 PM</option>
                     <option value="19:00">9/12/1434 07:00 PM</option>
                     <option value="20:00">9/12/1434 08:00 PM</option>
                     <option value="21:00">9/12/1434 09:00 PM</option>
                     <option value="22:00">9/12/1434 10:00 PM</option>
                     <option value="23:00">9/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="10/12/1434">
                     <option value="00:00">10/12/1434 12:00 AM</option>
                     <option value="01:00">10/12/1434 01:00 AM</option>
                     <option value="02:00">10/12/1434 02:00 AM</option>
                     <option value="03:00">10/12/1434 03:00 AM</option>
                     <option value="04:00">10/12/1434 04:00 AM</option>
                     <option value="05:00">10/12/1434 05:00 AM</option>
                     <option value="06:00">10/12/1434 06:00 AM</option>
                     <option value="07:00">10/12/1434 07:00 AM</option>
                     <option value="08:00">10/12/1434 08:00 AM</option>
                     <option value="09:00">10/12/1434 09:00 AM</option>
                     <option value="10:00">10/12/1434 10:00 AM</option>
                     <option value="11:00">10/12/1434 11:00 AM</option>
                     <option value="12:00">10/12/1434 12:00 PM</option>
                     <option value="13:00">10/12/1434 01:00 PM</option>
                     <option value="14:00">10/12/1434 02:00 PM</option>
                     <option value="15:00">10/12/1434 03:00 PM</option>
                     <option value="16:00">10/12/1434 04:00 PM</option>
                     <option value="17:00">10/12/1434 05:00 PM</option>
                     <option value="18:00">10/12/1434 06:00 PM</option>
                     <option value="19:00">10/12/1434 07:00 PM</option>
                     <option value="20:00">10/12/1434 08:00 PM</option>
                     <option value="21:00">10/12/1434 09:00 PM</option>
                     <option value="22:00">10/12/1434 10:00 PM</option>
                     <option value="23:00">10/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="11/12/1434">
                     <option value="00:00">11/12/1434 12:00 AM</option>
                     <option value="01:00">11/12/1434 01:00 AM</option>
                     <option value="02:00">11/12/1434 02:00 AM</option>
                     <option value="03:00">11/12/1434 03:00 AM</option>
                     <option value="04:00">11/12/1434 04:00 AM</option>
                     <option value="05:00">11/12/1434 05:00 AM</option>
                     <option value="06:00">11/12/1434 06:00 AM</option>
                     <option value="07:00">11/12/1434 07:00 AM</option>
                     <option value="08:00">11/12/1434 08:00 AM</option>
                     <option value="09:00">11/12/1434 09:00 AM</option>
                     <option value="10:00">11/12/1434 10:00 AM</option>
                     <option value="11:00">11/12/1434 11:00 AM</option>
                     <option value="12:00">11/12/1434 12:00 PM</option>
                     <option value="13:00">11/12/1434 01:00 PM</option>
                     <option value="14:00">11/12/1434 02:00 PM</option>
                     <option value="15:00">11/12/1434 03:00 PM</option>
                     <option value="16:00">11/12/1434 04:00 PM</option>
                     <option value="17:00">11/12/1434 05:00 PM</option>
                     <option value="18:00">11/12/1434 06:00 PM</option>
                     <option value="19:00">11/12/1434 07:00 PM</option>
                     <option value="20:00">11/12/1434 08:00 PM</option>
                     <option value="21:00">11/12/1434 09:00 PM</option>
                     <option value="22:00">11/12/1434 10:00 PM</option>
                     <option value="23:00">11/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="12/12/1434">
                     <option value="00:00">12/12/1434 12:00 AM</option>
                     <option value="01:00">12/12/1434 01:00 AM</option>
                     <option value="02:00">12/12/1434 02:00 AM</option>
                     <option value="03:00">12/12/1434 03:00 AM</option>
                     <option value="04:00">12/12/1434 04:00 AM</option>
                     <option value="05:00">12/12/1434 05:00 AM</option>
                     <option value="06:00">12/12/1434 06:00 AM</option>
                     <option value="07:00">12/12/1434 07:00 AM</option>
                     <option value="08:00">12/12/1434 08:00 AM</option>
                     <option value="09:00">12/12/1434 09:00 AM</option>
                     <option value="10:00">12/12/1434 10:00 AM</option>
                     <option value="11:00">12/12/1434 11:00 AM</option>
                     <option value="12:00">12/12/1434 12:00 PM</option>
                     <option value="13:00">12/12/1434 01:00 PM</option>
                     <option value="14:00">12/12/1434 02:00 PM</option>
                     <option value="15:00">12/12/1434 03:00 PM</option>
                     <option value="16:00">12/12/1434 04:00 PM</option>
                     <option value="17:00">12/12/1434 05:00 PM</option>
                     <option value="18:00">12/12/1434 06:00 PM</option>
                     <option value="19:00">12/12/1434 07:00 PM</option>
                     <option value="20:00">12/12/1434 08:00 PM</option>
                     <option value="21:00">12/12/1434 09:00 PM</option>
                     <option value="22:00">12/12/1434 10:00 PM</option>
                     <option value="23:00">12/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="13/12/1434">
                     <option value="00:00">13/12/1434 12:00 AM</option>
                     <option value="01:00">13/12/1434 01:00 AM</option>
                     <option value="02:00">13/12/1434 02:00 AM</option>
                     <option value="03:00">13/12/1434 03:00 AM</option>
                     <option value="04:00">13/12/1434 04:00 AM</option>
                     <option value="05:00">13/12/1434 05:00 AM</option>
                     <option value="06:00">13/12/1434 06:00 AM</option>
                     <option value="07:00">13/12/1434 07:00 AM</option>
                     <option value="08:00">13/12/1434 08:00 AM</option>
                     <option value="09:00">13/12/1434 09:00 AM</option>
                     <option value="10:00">13/12/1434 10:00 AM</option>
                     <option value="11:00">13/12/1434 11:00 AM</option>
                     <option value="12:00">13/12/1434 12:00 PM</option>
                     <option value="13:00">13/12/1434 01:00 PM</option>
                     <option value="14:00">13/12/1434 02:00 PM</option>
                     <option value="15:00">13/12/1434 03:00 PM</option>
                     <option value="16:00">13/12/1434 04:00 PM</option>
                     <option value="17:00">13/12/1434 05:00 PM</option>
                     <option value="18:00">13/12/1434 06:00 PM</option>
                     <option value="19:00">13/12/1434 07:00 PM</option>
                     <option value="20:00">13/12/1434 08:00 PM</option>
                     <option value="21:00">13/12/1434 09:00 PM</option>
                     <option value="22:00">13/12/1434 10:00 PM</option>
                     <option value="23:00">13/12/1434 11:00 PM</option>
                      <option value="00:00">14/12/1434 12:00 AM</option>
                  </optgroup>
               </select>
               <select name="sliderEnd" id="sliderEnd" onchange="SliderChanged()">
                  <optgroup label="8/12/1434">
                     <option value="00:00">8/12/1434 12:00 AM</option>
                     <option value="01:00">8/12/1434 01:00 AM</option>
                     <option value="02:00">8/12/1434 02:00 AM</option>
                     <option value="03:00">8/12/1434 03:00 AM</option>
                     <option value="04:00">8/12/1434 04:00 AM</option>
                     <option value="05:00">8/12/1434 05:00 AM</option>
                     <option value="06:00">8/12/1434 06:00 AM</option>
                     <option value="07:00">8/12/1434 07:00 AM</option>
                     <option value="08:00">8/12/1434 08:00 AM</option>
                     <option value="09:00">8/12/1434 09:00 AM</option>
                     <option value="10:00">8/12/1434 10:00 AM</option>
                     <option value="11:00">8/12/1434 11:00 AM</option>
                     <option value="12:00">8/12/1434 12:00 PM</option>
                     <option value="13:00">8/12/1434 01:00 PM</option>
                     <option value="14:00">8/12/1434 02:00 PM</option>
                     <option value="15:00">8/12/1434 03:00 PM</option>
                     <option value="16:00">8/12/1434 04:00 PM</option>
                     <option value="17:00">8/12/1434 05:00 PM</option>
                     <option value="18:00">8/12/1434 06:00 PM</option>
                     <option value="19:00">8/12/1434 07:00 PM</option>
                     <option value="20:00">8/12/1434 08:00 PM</option>
                     <option value="21:00">8/12/1434 09:00 PM</option>
                     <option value="22:00">8/12/1434 10:00 PM</option>
                     <option value="23:00">8/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="9/12/1434">
                     <option value="00:00">9/12/1434 12:00 AM</option>
                     <option value="01:00">9/12/1434 01:00 AM</option>
                     <option value="02:00">9/12/1434 02:00 AM</option>
                     <option value="03:00">9/12/1434 03:00 AM</option>
                     <option value="04:00">9/12/1434 04:00 AM</option>
                     <option value="05:00">9/12/1434 05:00 AM</option>
                     <option value="06:00">9/12/1434 06:00 AM</option>
                     <option value="07:00">9/12/1434 07:00 AM</option>
                     <option value="08:00">9/12/1434 08:00 AM</option>
                     <option value="09:00">9/12/1434 09:00 AM</option>
                     <option value="10:00">9/12/1434 10:00 AM</option>
                     <option value="11:00">9/12/1434 11:00 AM</option>
                     <option value="12:00">9/12/1434 12:00 PM</option>
                     <option value="13:00">9/12/1434 01:00 PM</option>
                     <option value="14:00">9/12/1434 02:00 PM</option>
                     <option value="15:00">9/12/1434 03:00 PM</option>
                     <option value="16:00">9/12/1434 04:00 PM</option>
                     <option value="17:00">9/12/1434 05:00 PM</option>
                     <option value="18:00">9/12/1434 06:00 PM</option>
                     <option value="19:00">9/12/1434 07:00 PM</option>
                     <option value="20:00">9/12/1434 08:00 PM</option>
                     <option value="21:00">9/12/1434 09:00 PM</option>
                     <option value="22:00">9/12/1434 10:00 PM</option>
                     <option value="23:00">9/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="10/12/1434">
                     <option value="00:00" selected="selected" >10/12/1434 12:00 AM</option>
                     <option value="01:00">10/12/1434 01:00 AM</option>
                     <option value="02:00">10/12/1434 02:00 AM</option>
                     <option value="03:00">10/12/1434 03:00 AM</option>
                     <option value="04:00">10/12/1434 04:00 AM</option>
                     <option value="05:00">10/12/1434 05:00 AM</option>
                     <option value="06:00">10/12/1434 06:00 AM</option>
                     <option value="07:00">10/12/1434 07:00 AM</option>
                     <option value="08:00">10/12/1434 08:00 AM</option>
                     <option value="09:00">10/12/1434 09:00 AM</option>
                     <option value="10:00">10/12/1434 10:00 AM</option>
                     <option value="11:00">10/12/1434 11:00 AM</option>
                     <option value="12:00">10/12/1434 12:00 PM</option>
                     <option value="13:00">10/12/1434 01:00 PM</option>
                     <option value="14:00">10/12/1434 02:00 PM</option>
                     <option value="15:00">10/12/1434 03:00 PM</option>
                     <option value="16:00">10/12/1434 04:00 PM</option>
                     <option value="17:00">10/12/1434 05:00 PM</option>
                     <option value="18:00">10/12/1434 06:00 PM</option>
                     <option value="19:00">10/12/1434 07:00 PM</option>
                     <option value="20:00">10/12/1434 08:00 PM</option>
                     <option value="21:00">10/12/1434 09:00 PM</option>
                     <option value="22:00">10/12/1434 10:00 PM</option>
                     <option value="23:00">10/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="11/12/1434">
                     <option value="00:00">11/12/1434 12:00 AM</option>
                     <option value="01:00">11/12/1434 01:00 AM</option>
                     <option value="02:00">11/12/1434 02:00 AM</option>
                     <option value="03:00">11/12/1434 03:00 AM</option>
                     <option value="04:00">11/12/1434 04:00 AM</option>
                     <option value="05:00">11/12/1434 05:00 AM</option>
                     <option value="06:00">11/12/1434 06:00 AM</option>
                     <option value="07:00">11/12/1434 07:00 AM</option>
                     <option value="08:00">11/12/1434 08:00 AM</option>
                     <option value="09:00">11/12/1434 09:00 AM</option>
                     <option value="10:00">11/12/1434 10:00 AM</option>
                     <option value="11:00">11/12/1434 11:00 AM</option>
                     <option value="12:00">11/12/1434 12:00 PM</option>
                     <option value="13:00">11/12/1434 01:00 PM</option>
                     <option value="14:00">11/12/1434 02:00 PM</option>
                     <option value="15:00">11/12/1434 03:00 PM</option>
                     <option value="16:00">11/12/1434 04:00 PM</option>
                     <option value="17:00">11/12/1434 05:00 PM</option>
                     <option value="18:00">11/12/1434 06:00 PM</option>
                     <option value="19:00">11/12/1434 07:00 PM</option>
                     <option value="20:00">11/12/1434 08:00 PM</option>
                     <option value="21:00">11/12/1434 09:00 PM</option>
                     <option value="22:00">11/12/1434 10:00 PM</option>
                     <option value="23:00">11/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="12/12/1434">
                     <option value="00:00">12/12/1434 12:00 AM</option>
                     <option value="01:00">12/12/1434 01:00 AM</option>
                     <option value="02:00">12/12/1434 02:00 AM</option>
                     <option value="03:00">12/12/1434 03:00 AM</option>
                     <option value="04:00">12/12/1434 04:00 AM</option>
                     <option value="05:00">12/12/1434 05:00 AM</option>
                     <option value="06:00">12/12/1434 06:00 AM</option>
                     <option value="07:00">12/12/1434 07:00 AM</option>
                     <option value="08:00">12/12/1434 08:00 AM</option>
                     <option value="09:00">12/12/1434 09:00 AM</option>
                     <option value="10:00">12/12/1434 10:00 AM</option>
                     <option value="11:00">12/12/1434 11:00 AM</option>
                     <option value="12:00">12/12/1434 12:00 PM</option>
                     <option value="13:00">12/12/1434 01:00 PM</option>
                     <option value="14:00">12/12/1434 02:00 PM</option>
                     <option value="15:00">12/12/1434 03:00 PM</option>
                     <option value="16:00">12/12/1434 04:00 PM</option>
                     <option value="17:00">12/12/1434 05:00 PM</option>
                     <option value="18:00">12/12/1434 06:00 PM</option>
                     <option value="19:00">12/12/1434 07:00 PM</option>
                     <option value="20:00">12/12/1434 08:00 PM</option>
                     <option value="21:00">12/12/1434 09:00 PM</option>
                     <option value="22:00">12/12/1434 10:00 PM</option>
                     <option value="23:00">12/12/1434 11:00 PM</option>
                  </optgroup>
                  <optgroup label="13/12/1434">
                     <option value="00:00">13/12/1434 12:00 AM</option>
                     <option value="01:00">13/12/1434 01:00 AM</option>
                     <option value="02:00">13/12/1434 02:00 AM</option>
                     <option value="03:00">13/12/1434 03:00 AM</option>
                     <option value="04:00">13/12/1434 04:00 AM</option>
                     <option value="05:00">13/12/1434 05:00 AM</option>
                     <option value="06:00">13/12/1434 06:00 AM</option>
                     <option value="07:00">13/12/1434 07:00 AM</option>
                     <option value="08:00">13/12/1434 08:00 AM</option>
                     <option value="09:00">13/12/1434 09:00 AM</option>
                     <option value="10:00">13/12/1434 10:00 AM</option>
                     <option value="11:00">13/12/1434 11:00 AM</option>
                     <option value="12:00">13/12/1434 12:00 PM</option>
                     <option value="13:00">13/12/1434 01:00 PM</option>
                     <option value="14:00">13/12/1434 02:00 PM</option>
                     <option value="15:00">13/12/1434 03:00 PM</option>
                     <option value="16:00">13/12/1434 04:00 PM</option>
                     <option value="17:00">13/12/1434 05:00 PM</option>
                     <option value="18:00">13/12/1434 06:00 PM</option>
                     <option value="19:00">13/12/1434 07:00 PM</option>
                     <option value="20:00">13/12/1434 08:00 PM</option>
                     <option value="21:00">13/12/1434 09:00 PM</option>
                     <option value="22:00">13/12/1434 10:00 PM</option>
                     <option value="23:00">13/12/1434 11:00 PM</option>
                     <option value="00:00">14/12/1434 12:00 AM</option>
                  </optgroup>
               </select>
            </div>

      <div id="loading" style="position:absolute;right:50px ;bottom:60px ;">
          <img src="images/loading.GIF" />
      </div>
      <div class="control right" style="text-align:center; ">
          <input type="button" id="toggle" style="width:95%; height:40px;margin-top:20px; margin-bottom:20px" onclick="toggleHeatMap()" value="Show Tweets" />
          <div style="width:100px; height:20px; position:absolute; bottom:0px; right:20px;" >
              <!-- hitwebcounter Code START -->
                <a href="http://www.hitwebcounter.com/" target="_blank">
                <img src="http://hitwebcounter.com/counter/counter.php?page=5261738&style=0008&nbdigits=3&type=page&initCount=0" title="Visitors Counter" Alt="Visitors Counter"   border="0" >
                </a><br/>
                <!-- hitwebcounter.com --><a href="http://www.hitwebcounter.com/" title="Hot Tracker Code" 
                target="_blank" style="font-family: Arial, Helvetica, sans-serif; 
                font-size: 9px; color: #6D5B77; text-decoration: underline ;"><em>Hot Tracker Code</em>
                </a>   
  
          </div>
      </div>
    
      
    <div id="map-canvas"></div>
    <div id="logo">
        <img id="logoImage" src="images/logo.png" />   
    </div>
  </body>
</html>
